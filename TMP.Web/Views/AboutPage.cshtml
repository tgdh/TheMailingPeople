@inherits UmbracoViewPage<IPublishedContent>
@{
	Layout = "Master.cshtml";
	var Parent = Model.Children.Where("Visible");
}

<main class="o-page__inner" role="main">
	<div class="c-page__wrapper">
	    @Html.Partial("~/Views/Partials/Page/Headline.cshtml")
		@Html.Partial("~/Views/Partials/Page/Staff/PageContent.cshtml")
		@Html.Partial("~/Views/Partials/Page/Staff/Staff.cshtml")
		@Html.Partial("~/Views/Partials/Page/Newsletter.cshtml")
		@Html.Partial("~/Views/Partials/Page/Accreditations.cshtml")
	</div>
</main>
<div class="c-staff__popup js-popup">
	@foreach(var StaffMember in Parent){
		var StaffName = StaffMember.GetPropertyValue<string>("staffName");
		var StaffJobTitle = StaffMember.GetPropertyValue<string>("staffJobTitle");
		var popupText = StaffMember.GetPropertyValue<string>("popupContentText");
			
		<div class='c-staff__popup-page__wrapper mfp-with-anim mfp-hide' id='@StaffName.ToLower().Replace(" ","-").Replace("'","-")'>
			<div class="c-staff__padding">
				<h2 class="c-staff__heading">@StaffName</h2>
				<h4 class="c-staff__sub-heading">@StaffJobTitle</h4>
				<div class="c-staff__text-wrapper">
					<p>@popupText</p>
				</div>
			</div>
		</div>
	}
</div>